cmake_minimum_required(VERSION 3.10)
project(ProtoVM_CLI)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# CLI executable - simplified version that doesn't require the full ProtoVM engine
set(CLI_SOURCES
    src/ProtoVMCLI/CliMain.cpp
    src/ProtoVMCLI/CommandDispatcher.cpp
    src/ProtoVMCLI/JsonIO.cpp
    src/ProtoVMCLI/JsonFilesystemSessionStore.cpp
    src/ProtoVMCLI/EventLogger.cpp
    src/ProtoVMCLI/CircuitFacade.cpp
    src/ProtoVMCLI/CircuitMerge.cpp
    src/ProtoVMCLI/EngineFacade.cpp
    src/ProtoVMCLI/MachineSnapshot.cpp
    src/ProtoVMCLI/HlsIr.cpp
    src/ProtoVMCLI/HlsIrInference.cpp
    src/ProtoVMCLI/CdcModel.cpp
    src/ProtoVMCLI/CdcAnalysis.cpp
    src/ProtoVMCLI/PipelineModel.cpp
    src/ProtoVMCLI/PipelineAnalysis.cpp
    src/ProtoVMCLI/CircuitGraph.cpp
    src/ProtoVMCLI/CircuitGraphQueries.cpp
    src/ProtoVMCLI/TimingAnalysis.cpp
    src/ProtoVMCLI/FunctionalAnalysis.cpp
    src/ProtoVMCLI/BlockAnalysis.cpp
    src/ProtoVMCLI/BehavioralAnalysis.cpp
    src/ProtoVMCLI/ScheduledIr.cpp
    src/ProtoVMCLI/Scheduling.cpp
    src/ProtoVMCLI/RetimingModel.cpp
    src/ProtoVMCLI/RetimingAnalysis.cpp
    src/ProtoVMCLI/RetimingOpt.cpp
    src/ProtoVMCLI/AnalogModel.cpp
    src/ProtoVMCLI/AnalogBlockExtractor.cpp
    src/ProtoVMCLI/AnalogSolver.cpp
    src/ProtoVMCLI/DspGraph.cpp
    src/ProtoVMCLI/DspRuntime.cpp
    src/ProtoVMCLI/AudioDsl.cpp
)

add_executable(proto-vm-cli ${CLI_SOURCES})
target_include_directories(proto-vm-cli PRIVATE
    src/ProtoVMCLI
)