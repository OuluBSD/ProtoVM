cmake_minimum_required(VERSION 3.10)
project(ProtoVM_CLI)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# CLI executable - simplified version that doesn't require the full ProtoVM engine
set(CLI_SOURCES
    src/ProtoVMCLI/CliMain.cpp
    src/ProtoVMCLI/CommandDispatcher.cpp
    src/ProtoVMCLI/JsonIO.cpp
    src/ProtoVMCLI/JsonFilesystemSessionStore.cpp
    src/ProtoVMCLI/EventLogger.cpp
    src/ProtoVMCLI/CircuitFacade.cpp
    src/ProtoVMCLI/CircuitMerge.cpp
    src/ProtoVMCLI/EngineFacade.cpp
    src/ProtoVMCLI/MachineSnapshot.cpp
    src/ProtoVMCLI/HlsIr.cpp
    src/ProtoVMCLI/HlsIrInference.cpp
)

add_executable(proto-vm-cli ${CLI_SOURCES})
target_include_directories(proto-vm-cli PRIVATE
    src/ProtoVMCLI
)